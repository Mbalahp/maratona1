namespace exer21
{
    public partial class Form1 : Form
    {
        private string[] names = new string[10];
        private int nameCount = 0;

        public Form1()
        {
            InitializeComponent();
            AttachEventHandlers();
        }

        private void AttachEventHandlers()
        {
            Button btnAddName = (Button)Controls["btnAddName"];
            Button btnSearch = (Button)Controls["btnSearch"];

            btnAddName.Click += BtnAddName_Click;
            btnSearch.Click += BtnSearch_Click;
        }

        private void BtnAddName_Click(object sender, EventArgs e)
        {
            TextBox txtName = (TextBox)Controls["txtName"];
            ListBox lstNames = (ListBox)Controls["lstNames"];

            if (string.IsNullOrWhiteSpace(txtName.Text))
            {
                MessageBox.Show("Please enter a name.", "Validation");
                return;
            }

            if (nameCount >= 10)
            {
                MessageBox.Show("You have already entered 10 names.", "Limit Reached");
                return;
            }

            names[nameCount] = txtName.Text.Trim();
            lstNames.Items.Add(names[nameCount]);
            nameCount++;

            txtName.Clear();
            txtName.Focus();

            if (nameCount == 10)
            {
                MessageBox.Show("All 10 names have been entered.", "Complete");
            }
        }

        private void BtnSearch_Click(object sender, EventArgs e)
        {
            TextBox txtSearch = (TextBox)Controls["txtSearch"];
            Label lblResult = (Label)Controls["lblResult"];

            if (string.IsNullOrWhiteSpace(txtSearch.Text))
            {
                MessageBox.Show("Please enter a name to search.", "Validation");
                return;
            }

            if (nameCount < 10)
            {
                MessageBox.Show("Please enter all 10 names first.", "Incomplete");
                return;
            }

            string searchName = txtSearch.Text.Trim();
            bool found = false;

            for (int i = 0; i < 10; i++)
            {
                if (names[i].Equals(searchName, StringComparison.OrdinalIgnoreCase))
                {
                    found = true;
                    break;
                }
            }

            if (found)
            {
                lblResult.Text = "FOUND";
                lblResult.ForeColor = Color.Green;
            }
            else
            {
                lblResult.Text = "NOT FOUND";
                lblResult.ForeColor = Color.Red;
            }

            txtSearch.Clear();
            txtSearch.Focus();
        }
    }
}
